{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"2RAAA;AACA,+C;AACA;AACA;AACA,8B;;AAEM,I;AACJ,oBAAwE,sBAA3D,MAA2D,QAA3D,MAA2D,gCAAnD,cAAmD,KAAnD,cAAmD,uCAAlC,MAAkC,2BAA1B,cAA0B,QAA1B,cAA0B,KAAV,OAAU,QAAV,OAAU;AACtE,oBAAO,MAAP,EAAe,QAAf,EAAyB,EAAzB,CAA4B,KAA5B;AACA,oBAAO,cAAP,EAAuB,gBAAvB,EAAyC,EAAzC,CAA4C,KAA5C,CAAkD,WAAlD;;AAEA,MAAM,WAAW,qBAAU,UAAU,SAAV,GAAsB,YAAhC,CAAjB;;AAEA,mCAAc,UAAC,GAAD,EAAM,OAAN,EAAkB;AAC9B,QAAI,gBAAgB,gBAAK,GAAL,CAApB;;AAEA,oBAAK,aAAL,EAAoB,qBAAa;AAC/B,UAAI,QAAQ,sBAAW,OAAX,CAAZ;AACA,UAAI;AACD,YAAM,SADL,EACiB,SADjB;AAED,YAAM,MAFL,EAEc,MAFd;AAGD,YAAM,cAHL,EAGsB,eAAI,cAAJ,EAAoB,OAApB,KAAgC,2BAAgB,OAAhB,CAHtD;AAID,YAAM,cAJL,EAIsB,cAJtB,mBAAJ;;;AAOA,YAAK,sBAAW,SAAX,CAAL,IAA8B,aAAQ,SAAS,OAAT,CAAR,EAA2B,gBAAQ,OAAR,EAAiB,SAAjB,CAA3B,EAAwD,cAAxD,CAA9B;AACD,KAVD;AAWD,GAdD;AAeD,C;;;AAGH,OAAO,OAAP,GAAiB,IAAjB","file":"index.js","sourcesContent":["import {Api} from './api';\nimport apiList from './definitions/index.js';\nimport {endpoints, fieldNames, serviceVersions} from './constants';\nimport {expect} from 'chai';\nimport {keys, each, lowerFirst, get} from './util';\n\nclass Ebay {\n  constructor({devKey, responseFormat = 'JSON', serviceVersion, sandbox}) {\n    expect(devKey, 'devKey').to.exist;\n    expect(responseFormat, 'responseFormat').to.match(/json|xml/i);\n\n    const endpoint = endpoints[sandbox ? 'sandbox' : 'production'];\n\n    each(apiList, (api, service) => {\n      let operationList = keys(api);\n      \n      each(operationList, operation => {\n        let field = fieldNames[service];\n        let requiredFields = {\n          [field.operation]: operation,\n          [field.devKey]: devKey,\n          [field.serviceVersion]: get(serviceVersion, service) || serviceVersions[service],\n          [field.responseFormat]: responseFormat\n        };\n\n        this[lowerFirst(operation)] = new Api(endpoint[service], apiList[service][operation], requiredFields);\n      });\n    });\n  }\n}\n\nmodule.exports = Ebay;\n"]}